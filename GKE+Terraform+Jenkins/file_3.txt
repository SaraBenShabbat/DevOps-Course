    1  git clone https://github.com/SaraBenShabbat/DevOps-Course
    2  cd DevOps-Course/Docker
    3  curl https://sdk.cloud.google.com | bash
    4  exec -l $SHELL
    5  gcloud init
    6  ll
    7  docker build -t java-app:01 .
    8  sudo apt update
    9  sudo apt install apt-transport-https ca-certificates curl software-properties-common
   10  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
   11  sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"
   12  sudo apt update
   13  apt-cache policy docker-ce
   14  sudo apt install docker-ce
   15  sudo systemctl status docker
   16  sudo usermod -a -G docker ${USER}
   17  docker build -t java-app:01 .
   18  docker tag java-app:01 gcr.io/solid-justice-272605/java-app:01
   19  docker push gcr.io/solid-justice-272605/java-app:01
   20  gcloud auth configure-docker
   21  docker push gcr.io/solid-justice-272605/java-app:01
   22  ll
   23  cd ..
   24  ll
   25  cd Google-Cloud/
   26  ll
   27  cd GKE/
   28  ll
   29  cd kubernetes/
   30  ll
   31  cd ..
   32  ll
   33  apt-get install unzip
   34  unzip terraform_0.12.24_linux_amd64.zip 
   35  mv terraform /usr/local/bin/
   36  ll
   37  rm terraform_0.12.24_linux_amd64.zip 
   38  ll
   39  terraform init
   40  terraform plan 
   41  terraform apply
   42  gcloud components install kubectl
   43  gcloud container clusters get-credentials solid-justice-272605-cluster --zone us-central1-a --project solid-justice-272605
   44  kubectl get nodes
   45  echo "apiVersion: apps/v1
   46  kind: Deployment
   47  metadata:
   48    name: java-app-deploy
   49    labels:
   50      app: java-app
   51  spec:
   52    replicas: 4
   53    selector:
   54      matchLabels:
   55        app: java-app
   56    template:
   57      metadata:
   58        labels:
   59          app: java-app
   60      spec:
   61        containers:
   62        - name: java-app
   63          image: gcr.io/solid-justice-272605/java-app:01
   64          ports:
   65          - containerPort: 8080" > deploy.yaml
   66  ll
   67  kubectl apply -f deploy.yaml 
   68  kubectl expose deploy/java-app-deploy --type=NodePort --port=8080:30001
   69  kubectl expose deploy/java-app-deploy --type=NodePort --port=30001
   70  kubectl get svc
   71  history
   72  cd DevOps-Course/Google-Cloud/GKE/
   73  ll
   74  history > /root/file_0.txt
   75  cat /root/file_0.txt 
   76  vi /root/file_0.txt 
   77  visudo
   78  history > /root/file_0.txt
   79  cat /root/file_0.txt 
   80  vi deploy.yaml 
   81  vi /etc/ssh/sshd_config 
   82  cd /home/jenkins/
   83  history > /root/file_0.txt
   84  cat /root/file_0.txt 
   85  mkdir .ssh
   86  cd .ssh/
   87  vi authorized_keys
   88  vi /etc/ssh/sshd_config 
   89  history
   90  kubectl get svc
   91  kubectl delete svc/java-app-deploy
   92  kubectl expose deploy/java-app-deploy --type=NodePort 
   93  kubectl get svc
   94  kubectl get pods -o=wide
   95  kubectl delete pod/java-app-deploy-dd7dc9c99-9x59g
   96  kubectl get pods -o=wide
   97  kubectl get nodes -o=wide
   98  kubectl get svc 
   99  ll
  100  d DevOps-Course/
  101  cd DevOps-Course/
  102  cd Google-Cloud/
  103  ll
  104  cd Nginx
  105  ll
  106  terraform init
  107  terraform plan
  108  terraform apply -auto-approve
  109  terraformdestroy
  110  terraform destroy
  111  cd ..
  112  ll
  113  cd ..
  114  kubectl get svc
  115  kubectl get deploy
  116  kubectl delete deploy/java-app-deploy
  117  kubectl delete svc/java-app-deploy
  118  ll
  119  cd dev
  120  cd DevOps-Course/
  121  ll
  122  cd Docer
  123  cd Docker
  124  ll
  125  cd ..
  126  cd Google-Cloud/
  127  ll
  128  cd GKE/
  129  ll
  130  vi deploy.yaml 
  131  kubectl apply -f deploy.yaml 
  132  vi deploy.yaml 
  133  kubectl apply -f deploy.yaml 
  134  vi deploy.yaml 
  135  kubectl apply -f deploy.yaml 
  136  vi deploy.yaml 
  137  kubectl apply -f deploy.yaml 
  138  kubectl expose deploy/java-app --type=NodePort
  139  kubectl expose deploy/java-app-deploy --type=NodePort
  140  kubectl expose deploy/java-app-deploy --type=LoadBalancer
  141  kubectl expose d--name=custom eploy/java-app-deploy --type=LoadBalancer
  142  kubectl expose d--name=custom deploy/java-app-deploy --type=LoadBalancer
  143  kubectl expose --name=custom deploy/java-app-deploy --type=LoadBalancer
  144  kubectl get svc
  145  kubectl get nodes -o=wide
  146  kubectl get svc
  147  kubectl delete svc/java-app-deploy
  148  vi svc.yaml
  149  kubectl apply -f svc.yaml
  150  kubectl get svc
  151  kubect delete svc/custom
  152  kubectl delete svc/custom
  153  kubectl get svc
  154  kubectl expose deploy/java-app-deploy --type=LoadBalancer
  155  kubectl get svc
  156  vi svc.yaml
  157  kubectl get svc
  158  kubectl delete svc/java-app-svc
  159  kubectl apply -f svc.yaml
  160  vi svc.yaml
  161  kubectl apply -f svc.yaml
  162  kubectl get svc
  163  kubectl delete svc/java-app-svc
  164  kubectl delete svc/java-app-deploy
  165  kubectl expose --name=java-appa-svc deploy/java-app-deploy --type=LoadBalanecr
  166  kubectl expose --name=java-appa-svc deploy/java-app-deploy --type=LoadBalancer
  167  kubectl get svc
  168  ll
  169  cd ..
  170  cd Nginx/.terraform/
  171  cd ..
  172  terraform init\
  173  terraform destroy
  174  cd ..
  175  cd GKE/
  176  terraform init\
  177  terraform destroy
  178  adduser jenkins
  179  usermod -aG sudo jenkins
  180  mkdir /home/jenkins/jenkins-dir
  181  sudo apt-get install default-jre git
  182  sudo apt-get install openssh-server
  183  su jenkins
  184  ll
  185  mkdir jenkins
  186  /etc/init.d/ssh restart 
  187  ll
  188  ll jenkins/
  189  ll jenkins/workspace/
  190  ll jenkins/workspace/GKE
  191  gcloud
  192  gcloud components install kubectl -y
  193  gcloud components install kubectl 
  194  cd jenkins/workspace/
  195  ll
  196  cd GKE
  197  ll
  198  gcloud components install kubectl
  199  cd ..
  200  cd GKE@tmp/
  201  gcloud components install kubectl
  202  ll
  203  gcloud container clusters get-credentials solid-justice-272605-cluster --zone us-central1-a --project solid-justice-272605
  204  kubectl get nodes
  205  kubectl
  206  /etc/init.d/ssh restart 
  207  cd /usr/local/
  208  ll
  209  cd bin/
  210  ll
  211  export PATH=$PATH:/user/local/bin
  212  cat /home/jenkins-user/file_0.txt 
  213  history 
  214  history > /home/jenkins-user/file_0.txt 
  215  cat /root/.kube/config 
  216  history > /home/jenkins-user/file_0.txt 
